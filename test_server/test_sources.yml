source:
  - name: "test"
    start: "http://localhost:8888/html/home.html"
    ftype: "html"
    navigate:
      - step: "first page"
        selector: "//ul/li/a/@href"
      - step: "articles"
        selector: "/html/body/p[3]/a/@href"
        ftype: "html"
    extract:
      ftype: "html"
      fields:
        - name: "title"
          selector: "/html/body/h1"
          type: "html"

  - name: "test_rss_html"
    start: "http://localhost:8888/rss/feed.xml"
    ftype: "rss"
    navigate:
      - step: "the feed"
        selector: "link"
      - step: "the article"
        selector: "/html/body/p[3]/a/@href"
        ftype: "html"
    extract:
      ftype: "html"
      fields:
        - name: "title"
          selector: "/html/body/h1"
    
  - name: "test_only_rss"
    start: "http://localhost:8888/rss/feed.xml"
    ftype: "rss"
    extract:
      ftype: "rss"
      fields:
        - name: "description"
          selector: "description"



  - name: "broken_test_rss_html"
    start: "http://localhost:8888/rss/feed.xml"
    ftype: "rss"
    navigate:
      - step: "the feed"
        selector: "link"
      - step: "the article"
        selector: "/html/body/p[3]/text()" # this is broken
        ftype: "html"
    extract:
      ftype: "html"
      fields:
        - name: "title"
          selector: "/html/body/h1"

  - name: "test_rss_html_pdf"
    start: "http://localhost:8888/rss/feed.xml"
    ftype: "rss"
    navigate:
      - step: "the feed"
        selector: "link"
        must_contain: ["html"]
      - step: "the article"
        selector: "/html/body/p[4]/a/@href"
        ftype: "html"
        must_contain: [".pdf"]
    extract:
      ftype: "pdf"